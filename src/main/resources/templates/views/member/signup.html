<!DOCTYPE html>
<html lang="en">

<head>
	<title>ğŸ¶ZOOZOOCLUB_SHOPPING</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="description" content="Travelix Project">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="../styles/bootstrap4/bootstrap.min.css">
	<link href="../plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="../styles/offers_styles.css">
	<link rel="stylesheet" type="text/css" href="../styles/offers_responsive.css">
</head>
	<style>
	    .warning { color: red; }
	    .success { color: green; }
	    .invalid { background: yellow; }
	    .message { display: block; margin-top: 4px; }
		.signup-container {
		  background: white;
		  border-radius: 1rem;
		  padding: 150px 20px 10px 20px;
		  min-height: calc(100vh - 200px); /* estimate space minus header/footer height */
		  display: flex;
		  justify-content: center;
		  align-items: center;
		  background: #f9f9f9;
		}
		
		.sns-button {
		  position: relative;
		  width: 100%;
		  height: 35px;
		  background: #f0ba7d;
		  border: none;
		  border-radius: 999px;
		  font-weight: 600;
		  font-size: 1rem;
		  cursor: pointer;
		  margin-bottom: 0.5rem;
		  display: flex;
		  align-items: center;
		  justify-content: center;
		  color: #333;
		  padding: 0 1rem;
		}
		
		.sns-logo {
		  position: absolute;
		  left: 1rem;
		  width: 24px;
		  height: 24px;
		  object-fit: contain;
		}
		
		.button-text {
		  pointer-events: none;
		}
		
		.divider {
		  display: flex;
		  align-items: center;
		  margin: 1.5rem 0;
		  color: #aaa;
		  font-size: 0.875rem;
		}
		.divider div {
		  flex: 1;
		  height: 1px;
		  background: #ccc;
		}
		.divider span {
		  padding: 0 0.75rem;
		  white-space: nowrap;
		}
		
		.form-group {
		  margin-bottom: 1.25rem;
		}
		.label {
		  display: block;
		  margin-bottom: 0.25rem;
		  font-size: 0.875rem;
		  font-weight: 500;
		}
		.input {
		  width: 100%;
		  padding: 0.5rem 0.75rem;
		  border: 1px solid #ccc;
		  border-radius: 0.5rem;
		}
		
		
		.checkbox-label {
		  display: flex;
		  align-items: center;
		  gap: 0.5rem;
		}
		
	 </style>
<body>
	<div th:replace="views/common/header"></div>

<!-- Signup content wrapper -->
		  <div class="signup-container">
		   <div>
		    <div class="sns-buttons">
		      <button class="sns-button" style="background-color: #03c75a; color: white;">
		        <img th:src="@{/logo/naver.svg}" alt="naver" class="sns-logo">
		        <span class="button-text">Naverë¡œ ì‹œì‘í•˜ê¸°</span>
		      </button>
		      <button class="sns-button" style="background-color: white; color: #555; border: 1px solid #ddd;">
		        <img th:src="@{/logo/Google.svg}" alt="google" class="sns-logo">
		        <span class="button-text">Google ì‹œì‘í•˜ê¸°</span>
		      </button>
		      <button class="sns-button" style="background-color: blue; color: white;">
		        <img th:src="@{/logo/facebook.svg}" alt="Instagram" class="sns-logo">
		        <span class="button-text">Facebookìœ¼ë¡œ ì‹œì‘í•˜ê¸°</span>
		      </button>
		      <button class="sns-button" style="background-color: #fee500; color: #3c1e1e;">
		        <img th:src="@{/logo/KakaoTalk.svg}" alt="KakaoTalk" class="sns-logo">
		        <span class="button-text">KakaoTalkìœ¼ë¡œ ì‹œì‘í•˜ê¸°</span>
		      </button>
		    </div>
		
		    <div class="divider">
		      <div></div>
		      <span>ë˜ëŠ” ì´ë©”ì¼ë¡œ íšŒì›ê°€ì…</span>
		      <div></div>
		    </div>

		    <form action="/member/signup" method="post"  onsubmit="return validateForm();">
		      <div class="form-group">
		        <label class="label" for="email">ì´ë©”ì¼</label>
		        <input type="email" class="input" name="email" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" 
		        id="email" onblur="checkEmail();" onkeydown = "if(event.key === 'Enter') checkEmail();" required>
		        <label id ="emailCheckResult" ></label>
		      </div>
		      
		      <div class="form-group">
		        <label class="label" for="ids">ì•„ì´ë””</label>
		        <input type="text" class="input" name="memberId" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”" 
		        id="ids" onblur="checkId();" onkeydown = "if(event.key === 'Enter') checkId();" required>
		        <label id ="idCheckResult" ></label>
		      </div>
		
		      <div class="form-group">
		        <label class="label" for="pwd">ë¹„ë°€ë²ˆí˜¸</label>
		        <input type="password" id ="pwd" onkeydown = "if(event.key === 'Enter') pwdValid();" onblur ="pwdValid();"
		        name="password" class="input" placeholder="ë¹„ë°€ë²ˆí˜¸" required>
		        <label id ="pwdMsg"></label>
		      </div>
		
		      <div class="form-group">
		        <label class="label" for="pwdCfm">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
		        <input type="password" id ="pwdCfm" onkeydown = "if(event.key === 'Enter') pwdCheckConfirm();" onblur ="pwdCheckConfirm();" 
        		class="input" placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸" required>
        		<label id ="pwdCfmMsg"></label>
		      </div>
		
		      <div class="form-group">
		        <label class="checkbox-label"><input type="checkbox" id="checkAll"><span>ëª¨ë‘ ë™ì˜</span></label>
		        <label class="checkbox-label"><input type="checkbox" class="agree-check"><span>ì´ìš©ì•½ê´€ ë™ì˜</span><span>ë‚´ìš©ë³´ê¸°</span></label>
		        <label class="checkbox-label"><input type="checkbox" class="agree-check"><span>ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜</span><span>ë‚´ìš©ë³´ê¸°</span></label>
		        <label class="checkbox-label"><input type="checkbox" class="agree-check"><span>ë§Œ 14ì„¸ ì´ìƒì…ë‹ˆë‹¤</span></label>
		        <label class="checkbox-label"><input type="checkbox" class="agree-check"><span>(ì„ íƒ) ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹  ë™ì˜</span><span>ë‚´ìš©ë³´ê¸°</span></label>
		      </div>
		
		      <p class="warning">â€» í•„ìˆ˜ ë™ì˜ì‚¬í•­ì— ì²´í¬í•´ì•¼ íšŒì›ê°€ì…ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤</p>
		
		      <button type="submit" class="sns-button" style="background: #333; color: white;">íšŒì›ê°€ì…</button>
		    </form>
		  </div>
		 </div> 

	<div th:replace="views/common/footer"></div>
	
<script>
	const $ = id => document.getElementById(id);
	
	const msg = {
	  pwdOk: "ì‚¬ìš©ê°€ëŠ¥í•œ ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤.",
	  match: "ë¹„ë°€ ë²ˆí˜¸ê°€ ì¼ì¹˜í•©ë‹ˆë‹¤.",
	  misMatch: "ë¹„ë°€ ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.",
	  success: "íšŒì›ê°€ì…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤^^",
	  empty: " í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",
	  rule: "ì˜ë¬¸,ìˆ«ì,íŠ¹ìˆ˜ê¸°í˜¸(!@#$%^&)í¬í•¨ 10ìë¦¬ ì´ìƒ."
	};
	
	function checkEmail() {
	  const email = $('email').value.trim();
	  const resultTag = $("emailCheckResult");
	
	  if (!email) return;
	
	  fetch(`/member/checkEmail?email=${encodeURIComponent(email)}`)
	    .then(response => response.text())
	    .then(data => {
	      if (data === "OK") {
	        resultTag.innerText = "ì‚¬ìš©ê°€ëŠ¥í•œ ì´ë©”ì¼ì…ë‹ˆë‹¤.";
	        resultTag.className = "success";
	      } else {
	        resultTag.innerText = "ì‚¬ìš© ë¶ˆê°€ëŠ¥í•œ  ì´ë©”ì¼ì…ë‹ˆë‹¤.";
	        resultTag.className = "warning";
	        $('email').value = "";
	      }
	    })
	    .catch(err => {
	      resultTag.innerText = "ì„œë²„ ì˜¤ë¥˜ë¡œ ì´ë©”ì¼ í™•ì¸ ì‹¤íŒ¨";
	      resultTag.className = "warning";
	    });
	}
	
	function checkId() {
	  const memberId = $('ids').value.trim();
	  const resultTag = $("idCheckResult");
	
	  if (!memberId) return;
	
	  fetch(`/member/newIdCheck?memberId=${encodeURIComponent(memberId)}`)
	    .then(response => response.text())
	    .then(data => {
	      if (data === "OK") {
	        resultTag.innerText = "ì‚¬ìš©ê°€ëŠ¥í•œ ì•„ì´ë””ì…ë‹ˆë‹¤.";
	        resultTag.className = "success";
	      } else {
	        resultTag.innerText = "ì‚¬ìš© ë¶ˆê°€ëŠ¥í•œ ì•„ì´ë””ì…ë‹ˆë‹¤.";
	        resultTag.className = "warning";
	        $('ids').value = "";
	      }
	    })
	    .catch(err => {
	      resultTag.innerText = "ì„œë²„ ì˜¤ë¥˜ë¡œ ì¤‘ë³µ í™•ì¸ ì‹¤íŒ¨";
	      resultTag.className = "warning";
	    });
	}
	
	function showMessage(id, key, color) {
	  const tag = $(id);
	  tag.innerText = msg[key];
	  tag.style.color = color;
	}
	
	function pwdValid() {
	  const input = $('pwd');
	  const value = input.value;
	  const hasSpecial = /[()!@#$%^&]/.test(value);
	  const hasLetter = /[a-zA-Z]/.test(value);
	  const isLongEnough = value.length >= 10;
	
	  if (hasSpecial && hasLetter && isLongEnough) {
	    showMessage('pwdMsg', 'pwdOk', 'green');
	    $('pwdCfm').focus();
	    return true;
	  } else {
	    showMessage('pwdMsg', 'rule', 'red');
	    input.value = "";
	    return false;
	  }
	}
	
	function pwdCheckConfirm() {
	  const pwd = $('pwd').value;
	  const cfm = $('pwdCfm').value;
	
	  if (!pwd) {
	    showMessage('pwdCfmMsg', 'rule', 'red');
	    return false;
	  }
	
	  if (pwd === cfm) {
	    showMessage('pwdCfmMsg', 'match', 'green');
	    return true;
	  } else {
	    showMessage('pwdCfmMsg', 'misMatch', 'red');
	    $('pwdCfm').value = "";
	    return false;
	  }
	}
	
	function validateForm() {
	  let valid = true;
	
	  // Email check
	  if ($('email').value.trim() === "") {
	    alert("ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
	    $('email').focus();
	    return false;
	  }
	
	  // ID check
	  if ($('ids').value.trim() === "") {
	    alert("ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
	    $('ids').focus();
	    return false;
	  }
	
	  // Password validation
	  if (!pwdValid()) {
	    $('pwd').focus();
	    return false;
	  }
	
	  // Password confirmation
	  if (!pwdCheckConfirm()) {
	    $('pwdCfm').focus();
	    return false;
	  }
	
	  // Required checkboxes
	  const requiredChecks = document.querySelectorAll(".agree-check:not(:last-child)");
	  const allChecked = Array.from(requiredChecks).every(cb => cb.checked);
	
	  if (!allChecked) {
	    alert("í•„ìˆ˜ ì•½ê´€ì— ëª¨ë‘ ë™ì˜í•´ì£¼ì„¸ìš”.");
	    return false;
	  }
	
	  return valid;
	}
	
	// Checkbox group logic
	document.addEventListener("DOMContentLoaded", function () {
	  const checkAll = $("checkAll");
	  const agreeChecks = document.querySelectorAll(".agree-check");
	  const allLabels = document.querySelectorAll(".checkbox-label");
	
	  function updateLabelColors() {
	    allLabels.forEach(label => {
	      const input = label.querySelector("input[type='checkbox']");
	      const spans = label.querySelectorAll("span");
	      spans.forEach(span => {
	        span.style.color = input.checked ? "black" : "#555";
	      });
	    });
	  }
	
	  checkAll.addEventListener("change", () => {
	    agreeChecks.forEach(cb => cb.checked = checkAll.checked);
	    updateLabelColors();
	  });
	
	  agreeChecks.forEach(cb => {
	    cb.addEventListener("change", () => {
	      const allChecked = Array.from(agreeChecks).every(cb => cb.checked);
	      checkAll.checked = allChecked;
	      updateLabelColors();
	    });
	  });
	
	  updateLabelColors();
	});

    
</script> 

</body>

</html>